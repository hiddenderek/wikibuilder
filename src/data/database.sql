
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

CREATE TABLE users (id UUID NOT NULL PRIMARY KEY, username VARCHAR(30) NOT NULL UNIQUE, password TEXT NOT NULL, email VARCHAR(40) UNIQUE);

CREATE TABLE refreshTokens (id UUID NOT NULL PRIMARY KEY, refresh_token VARCHAR (600) NOT NULL UNIQUE, user_id UUID REFERENCES users(id));

ALTER TABLE users ADD CONSTRAINT emaildomain CHECK (email ILIKE '%dac-inc.com%');